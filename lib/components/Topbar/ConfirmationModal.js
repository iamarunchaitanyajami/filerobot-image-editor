import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import React,{useState,useCallback}from"react";import{Warning}from"@scaleflex/icons";import{useStore}from"../../hooks";import{RESET}from"../../actions";import Modal from"../common/Modal";import{CLOSING_REASONS}from"../../utils/constants";var ConfirmationModal=function(a){var b=a.children,c=a.isReset,d=void 0!==c&&c,e=useStore(),f=e.t,g=e.theme,h=e.config,i=e.dispatch,j=e.isResetted,k=e.haveNotSavedChanges,l=e.config.onClose,m=useState(!1),n=_slicedToArray(m,2),o=n[0],p=n[1];if("function"!=typeof l&&!d)return React.createElement("span",null);var q=function(){p(!1)},r=useCallback(function(){i({type:RESET,payload:{config:h}}),q()},[h]),s=function(){d||(l(CLOSING_REASONS.CLOSE_BUTTON,k),r())};return React.createElement(React.Fragment,null,React.cloneElement(b,{onClick:!(void 0!==j)||j?s:function openModal(){p(!0)}}),o&&React.createElement(Modal,{title:d?f("warning"):f("discardChanges"),hint:d?f("changesLoseWarningHint"):f("discardChangesWarningHint"),isOpened:o,onCancel:q,onDone:d?r:s,Icon:function WarningIcon(){return React.createElement(Warning,{color:g.palette.warning,size:25})},doneLabel:f("confirm"),doneButtonColor:"warning-primary",cancelLabel:f("cancel"),width:"400px",isWarning:!0}))};export default ConfirmationModal;