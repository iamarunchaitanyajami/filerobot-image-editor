import React,{useMemo}from"react";import{useStore}from"../../../hooks";import{TOOLS_IDS,WATERMARK_ANNOTATION_ID}from"../../../utils/constants";import Carousel from"../../common/Carousel";import{SET_FEEDBACK}from"../../../actions";import{StyledWatermarkGalleryItem}from"./Watermark.styled";var WatermarksGallery=function(a){var b=a.addImgWatermark,c=a.loadAndSetWatermarkImg,d=a.style,e=void 0===d?void 0:d,f=useStore(),g=f.config,h=f.annotations,i=f.dispatch,j=f.t,k=useMemo(function(){var a;return null===(a=(h[WATERMARK_ANNOTATION_ID]||{}).image)||void 0===a?void 0:a.src},[h[WATERMARK_ANNOTATION_ID]]),l=function(a){var c=a.currentTarget.children[0];if(c.complete){if(!c.naturalWidth)return void i({type:SET_FEEDBACK,payload:{feedback:{message:j("mutualizedFailedToLoadImg"),duration:2e3}}});b(c)}},m=g[TOOLS_IDS.WATERMARK]||{},n=m.gallery,o=void 0===n?[]:n;return 0===o.length?null:React.createElement(Carousel,{className:"FIE_watermark-gallery",style:e},o.map(function(a){var b=(null===a||void 0===a?void 0:a.url)||a,d=(null===a||void 0===a?void 0:a.previewUrl)||b;return React.createElement(StyledWatermarkGalleryItem,{className:"FIE_watermark-selected-item",onClick:function onClick(a){return b===d?l(a):c(b)},key:b,"aria-selected":b===k},React.createElement("img",{src:d,alt:"Failed to load.",crossOrigin:"Anonymous",draggable:!1}))}))};export default WatermarksGallery;